/* ************************************************************************** */
/*                                                                            */
/*                                                        ::::::::            */
/*   tetro_width_height.c                               :+:    :+:            */
/*                                                     +:+                    */
/*   By: lravier <marvin@codam.nl>                    +#+                     */
/*                                                   +#+                      */
/*   Created: 2019/04/20 12:24:17 by lravier       #+#    #+#                 */
/*   Updated: 2019/04/20 15:17:33 by lravier       ########   odam.nl         */
/*                                                                            */
/* ************************************************************************** */

#include "fillit.h"

void	tetro_wh(t_tetro *tetro, size_t total_size)
{
	unsigned short mask_top;
	unsigned short mask_left;

	mask_top = 1 << (total_size - 1);
	mask_left = 1 << (total_size - SIZE - 1);
	if (~(mask_top & 1 << (SIZE * (SIZE - 1) - 1)))
	{
		if (tetro->tetro & mask_top)
			tetro->width += 1;
		while (tetro->tetro & mask_left)
		{
			tetro->height += 1;
			mask_left = 1 << (total_size - SIZE - 1);
		}
		tetro_wh(tetro, total_size - 1);
	}
}
